package state;

import java.util.Random;

public class EstadoComMoeda implements State{

  Random random = new Random(System.currentTimeMillis());
  MaqinaGomaDeMascar maquina;
  
  public EstadoComMoeda(MaqinaGomaDeMascar maquina) {
    this.maquina = maquina;
  }
  
  @Override
  public void inserirMoeda() {
    System.out.println("Você não pode inserir outra moeda, ela será ejetada!");
  }

  @Override
  public void acionarAlavanca() {
    System.out.println("Você acionou a alavanca...");
    int winner = random.nextInt(5);
    if(winner == 0 && (maquina.getCount() > 1)){
      maquina.setEstadoAtual(maquina.getEstadoWinner());
    }else{
      maquina.setEstadoAtual(maquina.getEstadoVendido());
    }
  }

  @Override
  public void ejetarMoeda() {
    System.out.println("Você ejetou a moeda");
    maquina.setEstadoAtual(maquina.getEstadoSemMoedas());
  }

  @Override
  public void entregarGoma() {
    System.out.println("Ação inadequada");
    // TODO Auto-generated method stub
    
  }

}
